{"version":3,"file":"js/app.1dd8a706.js","mappings":"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","sources":["webpack://chatlog_parser/./src/App.vue","webpack://chatlog_parser/./src/utils/tokenizerLoader.js","webpack://chatlog_parser/./src/App.vue?7ccd","webpack://chatlog_parser/./src/main.js","webpack://chatlog_parser/webpack/bootstrap","webpack://chatlog_parser/webpack/runtime/chunk loaded","webpack://chatlog_parser/webpack/runtime/compat get default export","webpack://chatlog_parser/webpack/runtime/define property getters","webpack://chatlog_parser/webpack/runtime/global","webpack://chatlog_parser/webpack/runtime/hasOwnProperty shorthand","webpack://chatlog_parser/webpack/runtime/jsonp chunk loading","webpack://chatlog_parser/webpack/startup"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <h1><el-icon><ChatDotRound /></el-icon> 某种聊天记录</h1>\n    <div class=\"file-input-container\">\n      <label for=\"fileInput\" class=\"file-input-label\">\n        <el-icon><Upload /></el-icon>\n        选择 JSON 文件\n      </label>\n      <input type=\"file\" id=\"fileInput\" accept=\".json\" @change=\"handleFileChange\">\n      <label for=\"txtFileInput\" class=\"file-input-label\" style=\"margin-left: 12px;\">\n        <el-icon><Upload /></el-icon>\n        上传聊天txt\n      </label>\n      <input type=\"file\" id=\"txtFileInput\" accept=\".txt\" multiple @change=\"handleTxtFileChange\">\n      <div class=\"option-container\">\n        <el-switch\n          v-model=\"convertFullWidth\"\n          active-text=\"半角符号\"\n          inactive-text=\"保持原样\"\n        />\n      </div>\n    </div>\n    \n    <!-- 文件列表 -->\n    <div class=\"file-list\">\n      <h2><el-icon><Document /></el-icon> 聊天窗口列表</h2>\n      <div class=\"search-container\">\n        <el-input\n          v-model=\"searchQuery\"\n          placeholder=\"搜索聊天记录...\"\n          :prefix-icon=\"Search\"\n          clearable\n          @input=\"handleSearch\"\n        >\n          <template #prefix>\n            <el-icon><Search /></el-icon>\n          </template>\n        </el-input>\n      </div>\n      <div class=\"file-list-content\">\n        <div v-if=\"lastOutputs.length > 0\" class=\"select-all-container\">\n          <label class=\"select-all-label\">\n            <input \n              type=\"checkbox\" \n              :checked=\"isAllSelected\" \n              @change=\"toggleSelectAll\"\n            >\n            <el-icon><Select /></el-icon>\n            选择所有\n          </label>\n        </div>\n        <ul v-if=\"lastOutputs.length > 0\">\n          <li v-for=\"(output, index) in filteredOutputs\" \n              :key=\"index\" \n              class=\"file-item\">\n            <label class=\"file-checkbox\">\n              <input \n                type=\"checkbox\" \n                v-model=\"selectedFiles[index]\"\n                @change=\"updateSelection\"\n              >\n            </label>\n            <span class=\"file-name\" @click=\"showFileContent(output)\">\n              <el-icon><ChatLineRound /></el-icon>\n              {{ output.filename }}\n            </span>\n          </li>\n        </ul>\n        <div v-else class=\"empty-state\">\n          <el-icon><UploadFilled /></el-icon>\n          请上传 conversation.json 文件 以查看聊天记录\n        </div>\n      </div>\n    </div>\n\n    <!-- 弹窗 -->\n    <div class=\"modal\" v-if=\"showModal\" @click.self=\"closeModal\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <div class=\"header-top\">\n            <h3><el-icon><Document /></el-icon> {{ currentFile?.filename }}</h3>\n            <div class=\"header-actions\">\n              <div class=\"statistics-note\">\n                <el-tooltip\n                  effect=\"dark\"\n                  content=\"精确计算采用GPT官方分词器tokenizer-GPT 4o，不适用于Claude。考虑到聊天内容还包含文件、图片等无法被提取的内容，token计算结果仅供参考。\"\n                  placement=\"bottom\"\n                >\n                  <el-icon><InfoFilled /></el-icon>\n                </el-tooltip>\n              </div>\n              <button class=\"close-button\" @click=\"closeModal\">\n                <el-icon><Close /></el-icon>\n              </button>\n            </div>\n          </div>\n          <div class=\"statistics\">\n            <div class=\"stat-item\" style=\"width: 120px\">\n              <span class=\"stat-label\">总字数：</span>\n              <span class=\"stat-value\">{{ statistics.totalTokens }}</span>\n            </div>\n            <div class=\"stat-item\" style=\"width: 120px\">\n              <span class=\"stat-label\">AI回复：</span>\n              <span class=\"stat-value\">{{ statistics.assistantCount }}次</span>\n            </div>\n            <div class=\"stat-item\" style=\"width: 120px\">\n              <span class=\"stat-label\">用户消息：</span>\n              <span class=\"stat-value\">{{ statistics.userCount }}次</span>\n            </div>\n            <div class=\"token-calc\">\n              <button \n                class=\"token-button\" \n                @click=\"calculateExactTokens\"\n                :disabled=\"isCalculating\"\n              >\n                <el-icon v-if=\"!isCalculating\"><InfoFilled /></el-icon>\n                <el-icon v-else class=\"is-loading\"><Loading /></el-icon>\n                {{ isCalculating ? '计算中...' : '计算精确Token' }}\n              </button>\n              <span v-if=\"exactTokens !== null\" class=\"stat-value\">\n                <span class=\"token-value\">{{ exactTokens }}</span>\n                <span class=\"token-label\">tokens</span>\n              </span>\n            </div>\n          </div>\n          <!-- 搜索高亮导航 -->\n          <div v-if=\"searchKeyword && matchCount > 0\" class=\"search-nav\">\n            <button @click=\"gotoPrevMatch\" :disabled=\"matchCount <= 1\">上一个</button>\n            <span>{{ currentMatchIndex + 1 }} / {{ matchCount }}</span>\n            <button @click=\"gotoNextMatch\" :disabled=\"matchCount <= 1\">下一个</button>\n          </div>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"chat-container\">\n            <template v-for=\"(line, index) in chatLines\" :key=\"index\">\n              <div :class=\"['message-wrapper', getMessageClass(line)]\">\n                <div class=\"avatar\">\n                  <el-icon v-if=\"isLeftMessage(line)\" ><ChatDotRound /></el-icon>\n                  <el-icon v-else><User /></el-icon>\n                </div>\n                <div class=\"message-bubble\" v-html=\"getMessageContent(line, index)\" />\n              </div>\n            </template>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"button-container\">\n      <button @click=\"handleDownload\" :disabled=\"!canDownload\">\n        <el-icon><Download /></el-icon>\n        导出选中对话\n      </button>\n    </div>\n    <div class=\"status\" v-text=\"status\"></div>\n  </div>\n</template>\n\n<script>\nimport { ref, computed, onMounted, nextTick, watch } from 'vue'\nimport JSZip from 'jszip'\nimport { marked } from 'marked'\nimport { ElMessage } from 'element-plus'\nimport { \n  ChatDotRound, \n  Upload, \n  Document, \n  Select, \n  ChatLineRound, \n  UploadFilled, \n  Close, \n  Download,\n  User,\n  Search,\n  InfoFilled,\n  Loading\n} from '@element-plus/icons-vue'\nimport { preloadEncoder, calculateTokens } from '@/utils/tokenizerLoader'\n\n// 配置 marked 允许 HTML 标签\nmarked.setOptions({\n  breaks: true,\n  gfm: true,\n  headerIds: false,\n  mangle: false,\n  pedantic: false,\n  smartLists: true,\n  smartypants: false\n});\n\nexport default {\n  name: 'App',\n  components: {\n    ChatDotRound,\n    Upload,\n    Document,\n    Select,\n    ChatLineRound,\n    UploadFilled,\n    Close,\n    Download,\n    User,\n    Search,\n    InfoFilled,\n    Loading\n  },\n  setup() {\n    const outputContent = ref('聊天记录将在这里显示');\n    const status = ref('');\n    const lastOutputs = ref([]);\n    const selectedFiles = ref([]);\n    const searchQuery = ref('');\n    const filteredOutputs = ref([]);\n    const canDownload = computed(() => selectedFiles.value.some(selected => selected));\n    const showModal = ref(false);\n    const currentFile = ref(null);\n    const isCalculating = ref(false)\n    const exactTokens = ref(null)\n    const searchKeyword = ref('')\n    const matchCount = ref(0)\n    const currentMatchIndex = ref(0)\n    const matchRefs = ref([])\n    const convertFullWidth = ref(false)\n\n    const isAllSelected = computed(() => {\n      return lastOutputs.value.length > 0 && \n             selectedFiles.value.every(selected => selected);\n    });\n\n    function toggleSelectAll(event) {\n      const checked = event.target.checked;\n      selectedFiles.value = lastOutputs.value.map(() => checked);\n    }\n\n    function updateSelection() {\n      selectedFiles.value = [...selectedFiles.value];\n    }\n\n    function sanitizeFilename(filename) {\n      return filename.replace(/[\\\\/*?:\"<>|]/g, \"\");\n    }\n\n    function extractDialogueFromMapping(mapping) {\n      const dialogues = [];\n      for (const randomKey in mapping) {\n        try {\n          const msg = mapping[randomKey].message;\n          const role = msg.author?.role || \"unknown\";\n          if (![\"user\", \"assistant\"].includes(role)) continue;\n          const content = msg.content || {};\n          if (content.parts && content.parts.length) {\n            const text = content.parts.join(\" \").replace(/^\"|\"$/g, \"\").trim();\n            if (text) {\n              const timestamp = msg.create_time ? new Date(msg.create_time * 1000) : null;\n              const formattedTime = timestamp ? timestamp.toLocaleString('zh-CN', {\n                year: 'numeric',\n                month: '2-digit',\n                day: '2-digit',\n                hour: '2-digit',\n                minute: '2-digit',\n                second: '2-digit',\n                hour12: false\n              }).replace(/\\//g, '-') : '';\n              dialogues.push(`【${role}】${formattedTime ? `[${formattedTime}]` : ''} ${text}`);\n            }\n          } else if (role === \"user\") {\n            const metadata = msg.metadata || {};\n            const userData = metadata.user_context_message_data || {};\n            const aboutModel = (userData.about_model_message || \"\").trim();\n            const aboutUser = (userData.about_user_message || \"\").trim();\n            let added = false;\n            if (aboutModel) {\n              dialogues.push(`【model_message】 ${aboutModel}`);\n              added = true;\n            }\n            if (aboutUser) {\n              dialogues.push(`【user_message】 ${aboutUser}`);\n              added = true;\n            }\n            if (added) {\n              dialogues.push(\"-\".repeat(80));\n            }\n          }\n        } catch (e) {\n          console.log(`处理 mapping 内随机键 ${randomKey} 时出错：${e}`);\n        }\n      }\n      return dialogues;\n    }\n\n    function processRawJson(data) {\n      const outputs = [];\n      \n      if (Array.isArray(data)) {\n        const counter = {};\n        for (const item of data) {\n          if (item.name !== undefined && item.chat_messages !== undefined) {\n            const name = item.name || \"Undefined\";\n            const chatMessages = item.chat_messages || [];\n            \n            if (!chatMessages.length) {\n              continue;\n            }\n            \n            const dialogues = [];\n            for (const msg of chatMessages) {\n              const sender = msg.sender;\n              const text = msg.text;\n              // Claude: created_at 可能是 ISO 格式字符串或时间戳\n              let timestamp = '';\n              if (msg.created_at) {\n                let date;\n                if (typeof msg.created_at === 'string') {\n                  // 处理 ISO 格式时间字符串\n                  date = new Date(msg.created_at);\n                } else {\n                  // 处理时间戳（秒/毫秒）\n                  const ts = msg.created_at > 1e12 ? msg.created_at : msg.created_at * 1000;\n                  date = new Date(ts);\n                }\n                // 转换为东八区时间\n                const utc8Date = new Date(date.getTime() + 8 * 60 * 60 * 1000);\n                timestamp = `[${utc8Date.getFullYear()}-${String(utc8Date.getMonth()+1).padStart(2,'0')}-${String(utc8Date.getDate()).padStart(2,'0')} ${String(utc8Date.getHours()).padStart(2,'0')}:${String(utc8Date.getMinutes()).padStart(2,'0')}:${String(utc8Date.getSeconds()).padStart(2,'0')}]`;\n              }\n              if (sender && text) {\n                const role = sender === \"human\" ? \"user\" : \"assistant\";\n                dialogues.push(`【${role}】${timestamp ? timestamp : ''} ${text}`);\n              }\n            }\n            \n            if (dialogues.length) {\n              const base = sanitizeFilename(name);\n              const count = (counter[base] || 0) + 1;\n              counter[base] = count;\n              const fn = count > 1 ? `${base}_${count}.txt` : `${base}.txt`;\n              outputs.push({ filename: fn, content: dialogues.join(\"\\n\") });\n            }\n          }\n          else if (item.title !== undefined && item.mapping !== undefined) {\n            const title = item.title || \"unknown\";\n            const mapping = item.mapping;\n            if (!mapping) continue;\n            const dialogues = extractDialogueFromMapping(mapping);\n            if (!dialogues.length) continue;\n            const base = sanitizeFilename(title) || \"unknown\";\n            const count = (counter[base] || 0) + 1;\n            counter[base] = count;\n            const fn = count > 1 ? `${base}_${count}.txt` : `${base}.txt`;\n            outputs.push({ filename: fn, content: dialogues.join(\"\\n\") });\n          }\n        }\n        if (outputs.length === 0) {\n          throw new Error(\"未找到有效的对话内容\");\n        }\n        return outputs;\n      }\n      \n      if (typeof data === \"object\" && !Array.isArray(data)) {\n        for (const title in data) {\n          const content = data[title];\n          const mapping = content.mapping;\n          if (!mapping) continue;\n          const dialogues = extractDialogueFromMapping(mapping);\n          if (dialogues.length) {\n            const fn = sanitizeFilename(title) || \"unknown\";\n            const txt = dialogues.join(\"\\n\");\n            outputs.push({ filename: fn + \".txt\", content: txt });\n          }\n        }\n        if (outputs.length === 0) {\n          throw new Error(\"未找到有效的对话内容\");\n        }\n      } else {\n        throw new Error(\"不支持的 JSON 格式\");\n      }\n      return outputs;\n    }\n\n    function showFileContent(file) {\n      currentFile.value = file;\n      showModal.value = true;\n      exactTokens.value = null\n    }\n\n    function closeModal() {\n      showModal.value = false;\n      currentFile.value = null;\n    }\n\n    function handleSearch() {\n      if (!searchQuery.value.trim()) {\n        filteredOutputs.value = lastOutputs.value;\n        searchKeyword.value = ''\n        return;\n      }\n      const query = searchQuery.value.toLowerCase();\n      filteredOutputs.value = lastOutputs.value.filter(output => {\n        if (output.filename.toLowerCase().includes(query)) return true;\n        if (output.content.toLowerCase().includes(query)) return true;\n        return false;\n      });\n      searchKeyword.value = searchQuery.value.trim();\n    }\n\n    async function handleFileChange(event) {\n      const file = event.target.files[0];\n      if (!file) return;\n      \n      status.value = \"正在解析文件...\";\n      const reader = new FileReader();\n      \n      reader.onload = function (e) {\n        try {\n          const data = JSON.parse(e.target.result);\n          const outputs = processRawJson(data);\n          lastOutputs.value = outputs;\n          filteredOutputs.value = outputs;\n          selectedFiles.value = outputs.map(() => false);\n          \n          if (outputs.length === 0) {\n            ElMessage.error(\"解析完成，但未找到对话内容\");\n            return;\n          }\n          \n          status.value = `解析完成，找到 ${outputs.length} 个会话`;\n        } catch (err) {\n          ElMessage.error(err.message || \"解析失败\");\n          status.value = \"解析失败\";\n        }\n      };\n      \n      reader.readAsText(file, \"utf-8\");\n    }\n\n    async function handleDownload() {\n      if (!selectedFiles.value.some(selected => selected)) return;\n      \n      try {\n        status.value = \"正在准备导出...\";\n        \n        const selectedOutputs = lastOutputs.value.filter((_, index) => selectedFiles.value[index]);\n        \n        if (selectedOutputs.length === 1) {\n          const blob = new Blob([selectedOutputs[0].content], { type: \"text/plain\" });\n          const url = URL.createObjectURL(blob);\n          const a = document.createElement(\"a\");\n          a.href = url;\n          a.download = selectedOutputs[0].filename;\n          a.click();\n          URL.revokeObjectURL(url);\n          status.value = \"导出完成\";\n        } else {\n          status.value = \"正在打包文件，请稍候...\";\n          const zip = new JSZip();\n          \n          selectedOutputs.forEach(output => {\n            zip.file(output.filename, output.content);\n          });\n          \n          const content = await zip.generateAsync({type: \"blob\"});\n          const url = URL.createObjectURL(content);\n          const a = document.createElement(\"a\");\n          a.href = url;\n          a.download = \"chatgpt_dialogues.zip\";\n          a.click();\n          URL.revokeObjectURL(url);\n          \n          status.value = `已导出 ${selectedOutputs.length} 个文件到 chatgpt_dialogues.zip`;\n        }\n      } catch (err) {\n        status.value = \"导出失败\";\n      }\n    }\n\n    const chatLines = computed(() => {\n      if (!currentFile.value?.content) return [];\n      \n      // 只匹配特定的角色标记\n      const rolePattern = /【(model_message|user_message|assistant|user)】/;\n      const lines = currentFile.value.content.split('\\n');\n      const messages = [];\n      let currentMessage = '';\n      let currentRole = '';\n\n      for (const line of lines) {\n        const match = line.match(rolePattern);\n        if (match) {\n          // 如果已经有消息，保存之前的消息\n          if (currentMessage) {\n            messages.push(`【${currentRole}】${currentMessage}`);\n          }\n          // 开始新的消息\n          currentRole = match[1];\n          currentMessage = line.replace(rolePattern, '').trim();\n        } else if (currentRole) {\n          // 如果不是角色标记，且当前有角色，则添加到当前消息\n          currentMessage += '\\n' + line;\n        }\n      }\n      \n      // 添加最后一条消息\n      if (currentMessage) {\n        messages.push(`【${currentRole}】${currentMessage}`);\n      }\n\n      return messages.filter(msg => {\n        const content = msg.replace(/^【.*?】\\s*/, '').trim();\n        return content.length > 0;\n      });\n    });\n\n    function getMessageClass(line) {\n      if (line.startsWith('【assistant】') || line.startsWith('【model_message】')) {\n        return 'message-left';\n      }\n      return 'message-right';\n    }\n\n    function isLeftMessage(line) {\n      return line.startsWith('【assistant】') || line.startsWith('【model_message】');\n    }\n\n    function convertToHalfWidth(text) {\n      if (!convertFullWidth.value) return text;\n      return text.replace(/[\\u2018\\u2019\\u201C\\u201D]/g, match => {\n        switch (match) {\n          case '\\u2018': // 左单引号\n          case '\\u2019': // 右单引号\n            return \"'\";\n          case '\\u201C': // 左双引号\n          case '\\u201D': // 右双引号\n            return '\"';\n          default:\n            return match;\n        }\n      });\n    }\n\n    function getMessageContent(line, lineIndex) {\n      let content = line.replace(/^【.*?】\\s*/, '').trim();\n      content = content.replace(/\\[\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}\\]\\s*/, '');\n      const cleanContent = line.startsWith('【user_message】') \n        ? content.replace(/-{20,}/g, '')\n        : content;\n      let html = marked(convertToHalfWidth(cleanContent), { breaks: true });\n      \n      const timestampMatch = line.match(/\\[(\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2})\\]/);\n      if (timestampMatch) {\n        html = `<div class=\"message-timestamp\">${timestampMatch[1]}</div>${html}`;\n      }\n      \n      if (searchKeyword.value) {\n        const reg = new RegExp(searchKeyword.value.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'), 'gi');\n        let matchIdx = 0;\n        html = html.replace(reg, (m) => {\n          const refId = `search-match-${lineIndex}-${matchIdx}`;\n          matchIdx++;\n          return `<mark data-match-idx=\"${matchIdx-1}\" id=\"${refId}\">${m}</mark>`;\n        });\n      }\n      return html.replace(/\\s+$/, '').replace(/\\n$/, '');\n    }\n\n    const statistics = computed(() => {\n      if (!currentFile.value?.content) {\n        return {\n          totalTokens: 0,\n          assistantCount: 0,\n          userCount: 0\n        };\n      }\n\n      const lines = currentFile.value.content.split('\\n');\n      let totalTokens = 0;\n      let assistantCount = 0;\n      let userCount = 0;\n      let currentContent = '';\n      let currentRole = '';\n\n      const countTokens = (text) => {\n        text = text.replace(/\\[\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}\\]\\s*/g, '');\n        text = text.replace(/https?:\\/\\/[^\\s]+/g, '');\n        \n        let count = 0;\n        \n        const tokens = text.match(/[a-zA-Z]+|[0-9]+|[\\u4e00-\\u9fa5]|[^\\s]/g) || [];\n        \n        for (const token of tokens) {\n          if (/[a-zA-Z]/.test(token)) {\n            count += Math.ceil(token.length / 4);\n          } else if (/[0-9]/.test(token)) {\n            count += Math.ceil(token.length / 2);\n          } else if (/[\\u4e00-\\u9fa5]/.test(token)) {\n            count += 1;\n          } else if (/[\\s.,!?;:'\"()\\-–—…]/.test(token)) {\n            count += 0.5;\n          } else {\n            count += 0.5;\n          }\n        }\n        \n        return Math.round(count);\n      };\n\n      for (const line of lines) {\n        if (line.startsWith('【assistant】') || line.startsWith('【model_message】')) {\n          if (currentContent && currentRole) {\n            totalTokens += countTokens(currentContent);\n            if (currentRole === 'assistant') assistantCount++;\n            else userCount++;\n          }\n          currentRole = 'assistant';\n          currentContent = line.replace(/^【.*?】\\s*/, '').trim();\n        } else if (line.startsWith('【user】') || line.startsWith('【user_message】')) {\n          if (currentContent && currentRole) {\n            totalTokens += countTokens(currentContent);\n            if (currentRole === 'assistant') assistantCount++;\n            else userCount++;\n          }\n          currentRole = 'user';\n          currentContent = line.replace(/^【.*?】\\s*/, '').trim();\n        } else if (currentRole) {\n          currentContent += '\\n' + line;\n        }\n      }\n      \n      if (currentContent && currentRole) {\n        totalTokens += countTokens(currentContent);\n        if (currentRole === 'assistant') assistantCount++;\n        else userCount++;\n      }\n\n      return {\n        totalTokens,\n        assistantCount,\n        userCount\n      };\n    });\n\n    onMounted(async () => {\n      await nextTick()\n      \n      setTimeout(async () => {\n        try {\n          await preloadEncoder()\n        } catch (error) {\n          console.error('Failed to preload encoder:', error)\n          ElMessage.error('加载失败，请刷新页面重试')\n        }\n      }, 100)\n    })\n\n    async function calculateExactTokens() {\n      if (!currentFile.value?.content) return\n      \n      isCalculating.value = true\n      exactTokens.value = null\n      \n      try {\n        // 使用处理后的消息内容计算token\n        const messages = chatLines.value\n        const content = messages.join('\\n')\n        \n        const tokens = await calculateTokens(content)\n        if (tokens !== null) {\n          exactTokens.value = tokens\n        }\n      } catch (error) {\n        console.error('Token calculation failed:', error)\n        ElMessage.error('计算token失败，请稍后重试')\n      } finally {\n        isCalculating.value = false\n      }\n    }\n\n    async function handleTxtFileChange(event) {\n      const files = event.target.files;\n      if (!files || !files.length) return;\n      let newOutputs = [];\n      for (const file of files) {\n        try {\n          const text = await file.text();\n          if (!text.trim()) {\n            ElMessage.error(`${file.name} 文件内容为空`);\n            continue;\n          }\n          \n          const lines = text.split('\\n');\n          const hasValidContent = lines.some(line => {\n            const trimmedLine = line.trim();\n            return trimmedLine && !trimmedLine.startsWith('-'.repeat(20));\n          });\n          \n          if (!hasValidContent) {\n            ElMessage.error(`${file.name} 未包含有效的对话内容`);\n            continue;\n          }\n\n          const hasDialogContent = lines.some(line => {\n            const trimmedLine = line.trim();\n            return trimmedLine && (\n              trimmedLine.startsWith('【assistant】') ||\n              trimmedLine.startsWith('【user】') ||\n              trimmedLine.startsWith('【model_message】') ||\n              trimmedLine.startsWith('【user_message】')\n            );\n          });\n\n          if (!hasDialogContent) {\n            ElMessage.error(`${file.name} 未包含有效的AI或用户对话内容`);\n            continue;\n          }\n          \n          newOutputs.push({ filename: file.name, content: text });\n        } catch (e) {\n          ElMessage.error(`读取${file.name}失败`);\n        }\n      }\n      if (newOutputs.length) {\n        lastOutputs.value = [...lastOutputs.value, ...newOutputs];\n        filteredOutputs.value = lastOutputs.value;\n        selectedFiles.value = lastOutputs.value.map(() => false);\n        status.value = `已导入 ${newOutputs.length} 个txt文件`;\n      }\n      event.target.value = '';\n    }\n\n    function updateMatchRefs() {\n      nextTick(() => {\n        matchRefs.value = Array.from(document.querySelectorAll('.modal-body mark[data-match-idx]'));\n        matchCount.value = matchRefs.value.length;\n        if (matchCount.value > 0) {\n          scrollToMatch(currentMatchIndex.value);\n        }\n      });\n    }\n\n    function scrollToMatch(idx) {\n      if (matchRefs.value[idx]) {\n        matchRefs.value[idx].scrollIntoView({ behavior: 'smooth', block: 'center' });\n        matchRefs.value.forEach((el, i) => {\n          el.classList.toggle('active-match', i === idx);\n        });\n      }\n    }\n\n    function gotoPrevMatch() {\n      if (matchCount.value <= 1) return;\n      currentMatchIndex.value = (currentMatchIndex.value - 1 + matchCount.value) % matchCount.value;\n      scrollToMatch(currentMatchIndex.value);\n    }\n\n    function gotoNextMatch() {\n      if (matchCount.value <= 1) return;\n      currentMatchIndex.value = (currentMatchIndex.value + 1) % matchCount.value;\n      scrollToMatch(currentMatchIndex.value);\n    }\n\n    watch([showModal, searchKeyword, currentFile], () => {\n      if (showModal.value) {\n        currentMatchIndex.value = 0;\n        updateMatchRefs();\n      }\n    });\n\n    return {\n      outputContent,\n      status,\n      canDownload,\n      lastOutputs,\n      selectedFiles,\n      isAllSelected,\n      showModal,\n      currentFile,\n      searchQuery,\n      filteredOutputs,\n      statistics,\n      handleFileChange,\n      handleDownload,\n      showFileContent,\n      closeModal,\n      toggleSelectAll,\n      updateSelection,\n      chatLines,\n      getMessageClass,\n      isLeftMessage,\n      getMessageContent,\n      handleSearch,\n      isCalculating,\n      exactTokens,\n      calculateExactTokens,\n      handleTxtFileChange,\n      searchKeyword,\n      matchCount,\n      currentMatchIndex,\n      gotoPrevMatch,\n      gotoNextMatch,\n      convertFullWidth\n    };\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: \"PingFang SC\", \"Microsoft YaHei\", sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n  margin: 0;\n  padding: 0;\n  min-height: 100vh;\n  background-color: #f5f6fa;\n}\n\n* {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n\n.container {\n  font-family: \"PingFang SC\", \"Microsoft YaHei\", sans-serif;\n  line-height: 1.6;\n  padding: 30px;\n  max-width: 800px;\n  margin: 20px auto;\n  background-color: #fff;\n  border-radius: 16px;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);\n}\n\nh1 {\n  color: #8e9aaf;\n  margin-bottom: 30px;\n  text-align: center;\n  font-size: 1.8em;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 10px;\n}\n\nh2 {\n  font-size: 1.3em;\n  margin-bottom: 15px;\n  color: #8e9aaf;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.file-input-container {\n  margin: 20px 0;\n  text-align: center;\n}\n\n.file-input-label {\n  display: inline-flex;\n  align-items: center;\n  gap: 8px;\n  padding: 12px 24px;\n  background-color: #e8eaf6;\n  color: #7986cb;\n  border-radius: 12px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  font-weight: 500;\n}\n\n.file-input-label:hover {\n  background-color: #c5cae9;\n  transform: translateY(-2px);\n}\n\ninput[type=\"file\"] {\n  display: none;\n}\n\n.file-list {\n  margin: 20px 0;\n  background: #f8f9fa;\n  padding: 20px;\n  border-radius: 12px;\n  border: 1px solid #e8eaf6;\n  height: 50vh;\n  display: flex;\n  flex-direction: column;\n}\n\n.search-container {\n  margin-bottom: 15px;\n}\n\n.search-container :deep(.el-input__wrapper) {\n  background-color: white;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n  border-radius: 8px;\n}\n\n.search-container :deep(.el-input__inner) {\n  height: 40px;\n}\n\n.search-container :deep(.el-input__prefix) {\n  color: #9fa8da;\n}\n\n.file-list-content {\n  flex-grow: 1;\n  overflow-y: auto;\n  border: 1px solid #e8eaf6;\n  border-radius: 8px;\n  background: white;\n}\n\n.select-all-container {\n  padding: 12px;\n  border-bottom: 1px solid #e8eaf6;\n  background-color: #f5f6fa;\n}\n\n.select-all-label {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  cursor: pointer;\n  user-select: none;\n  color: #7986cb;\n  font-weight: 500;\n}\n\n.file-item {\n  display: flex;\n  align-items: flex-start;\n  gap: 12px;\n  padding: 12px;\n  border-bottom: 1px solid #e8eaf6;\n  transition: all 0.2s ease;\n}\n\n.file-checkbox {\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  flex-shrink: 0;\n}\n\n.file-name {\n  flex-grow: 1;\n  cursor: pointer;\n  display: flex;\n  align-items: flex-start;\n  gap: 8px;\n  color: #5c6bc0;\n  word-break: break-word;\n  text-align: left;\n  min-width: 0;\n}\n\n.file-name .el-icon {\n  flex-shrink: 0;\n  margin-top: 2px;\n}\n\n.file-name:hover {\n  color: #7986cb;\n}\n\n.file-item:hover {\n  background-color: #f5f6fa;\n}\n\n.empty-state {\n  padding: 40px 20px;\n  text-align: center;\n  color: #9fa8da;\n  font-style: italic;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 12px;\n}\n\n.empty-state .el-icon {\n  font-size: 24px;\n}\n\n.button-container {\n  text-align: center;\n  margin-top: 20px;\n}\n\nbutton {\n  display: inline-flex;\n  align-items: center;\n  gap: 8px;\n  padding: 12px 24px;\n  background-color: #7986cb;\n  color: white;\n  border: none;\n  border-radius: 12px;\n  cursor: pointer;\n  font-size: 16px;\n  font-weight: 500;\n  transition: all 0.3s ease;\n}\n\nbutton:hover {\n  background-color: #5c6bc0;\n  transform: translateY(-2px);\n}\n\nbutton:disabled {\n  background-color: #c5cae9;\n  cursor: not-allowed;\n  transform: none;\n}\n\n.status {\n  margin-top: 15px;\n  text-align: center;\n  color: #9fa8da;\n  font-size: 0.9em;\n}\n\n.modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.2);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n  backdrop-filter: blur(4px);\n}\n\n.modal-content {\n  background-color: white;\n  border-radius: 16px;\n  width: 95%;\n  max-width: 800px;\n  max-height: 90vh;\n  display: flex;\n  flex-direction: column;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n}\n\n.modal-header {\n  padding: 20px;\n  border-bottom: 1px solid #e8eaf6;\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.header-top {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  gap: 12px;\n}\n\n.modal-header h3 {\n  margin: 0;\n  color: #5c6bc0;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  word-break: break-all;\n  font-size: 1.1em;\n  flex: 1;\n  min-width: 0;\n}\n\n.header-actions {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  flex-shrink: 0;\n}\n\n.statistics-note {\n  display: flex;\n  align-items: center;\n  color: #9fa8da;\n  cursor: help;\n  width: 32px;\n  height: 32px;\n  justify-content: center;\n  border-radius: 4px;\n  transition: all 0.2s ease;\n}\n\n.statistics-note:hover {\n  color: #5c6bc0;\n  background-color: #f5f6fa;\n}\n\n.statistics-note .el-icon {\n  font-size: 16px;\n}\n\n.close-button {\n  background: none;\n  border: none;\n  cursor: pointer;\n  color: #9fa8da;\n  padding: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: color 0.2s ease;\n  flex-shrink: 0;\n  width: 32px;\n  height: 32px;\n  border-radius: 4px;\n}\n\n.close-button:hover {\n  color: #5c6bc0;\n  background-color: #f5f6fa;\n}\n\n.statistics {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  font-size: 0.9em;\n  color: #666;\n  flex-wrap: nowrap;\n}\n\n.stat-item {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  white-space: nowrap;\n  flex-shrink: 0;\n}\n\n.stat-label {\n  color: #9fa8da;\n}\n\n.stat-value {\n  color: #5c6bc0;\n  font-weight: 500;\n}\n\n.token-calc {\n  margin-left: auto;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  flex-shrink: 0;\n}\n\n.modal-body {\n  padding: 20px;\n  overflow-y: auto;\n  flex-grow: 1;\n  background-color: #f5f6fa;\n}\n\n.chat-container {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  width: 100%;\n  padding: 0 12px;\n}\n\n.message-wrapper {\n  display: flex;\n  gap: 12px;\n  width: 100%;\n  max-width: 100%;\n}\n\n.message-left {\n  align-self: flex-start;\n  padding-right: 20%;\n}\n\n.message-right {\n  align-self: flex-end;\n  flex-direction: row-reverse;\n  padding-left: 20%;\n}\n\n.avatar {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  background-color: #e8eaf6;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n}\n\n.message-bubble {\n  padding: 12px 16px;\n  border-radius: 16px;\n  font-size: 0.95em;\n  line-height: 1.5;\n  word-break: break-word;\n  white-space: pre-wrap;\n  text-align: left;\n  min-width: 60px;\n  max-width: 100%;\n  display: inline-block;\n  position: relative;\n  overflow-x: auto;\n  word-break: break-all;\n}\n\n.message-timestamp {\n  font-size: 0.8em;\n  color: #9fa8da;\n  margin-bottom: 4px;\n  opacity: 0.8;\n}\n\n.message-left .message-timestamp {\n  color: #9fa8da;\n}\n\n.message-right .message-timestamp {\n  color: rgba(255, 255, 255, 0.8);\n}\n\n.message-bubble :deep(p) {\n  margin: 8px 0;\n  word-break: break-word;\n}\n\n.message-bubble :deep(p:last-child) {\n  margin-bottom: 0;\n}\n\n.message-bubble :deep(p + p) {\n  margin-top: 1em;\n}\n\n.message-bubble :deep(em) {\n  font-style: italic;\n}\n\n.message-bubble :deep(strong) {\n  font-weight: bold;\n}\n\n.message-bubble :deep(code) {\n  background-color: rgba(0, 0, 0, 0.05);\n  padding: 2px 4px;\n  border-radius: 4px;\n  font-family: monospace;\n  white-space: pre-wrap;\n  word-break: break-word;\n}\n\n.message-bubble :deep(pre) {\n  background-color: rgba(0, 0, 0, 0.05);\n  padding: 8px;\n  border-radius: 4px;\n  overflow-x: auto;\n  margin: 8px 0;\n  max-width: 100%;\n  white-space: pre;\n  word-wrap: normal;\n}\n\n.message-bubble :deep(pre code) {\n  background-color: transparent;\n  padding: 0;\n  white-space: pre;\n  word-wrap: normal;\n  overflow-x: auto;\n}\n\n.message-bubble :deep(ul),\n.message-bubble :deep(ol) {\n  width: 100%;\n  max-width: 100%;\n  box-sizing: border-box;\n  list-style-position: inside;\n  padding-left: 1.5em;\n  overflow-x: unset;\n  word-break: break-all;\n}\n\n.message-bubble :deep(li) {\n  width: 100%;\n  max-width: 100%;\n  box-sizing: border-box;\n  word-break: break-all;\n  white-space: pre-line;\n  overflow-wrap: break-word;\n}\n\n.message-bubble :deep(table) {\n  display: block;\n  width: 100%;\n  max-width: 100%;\n  overflow-x: auto;\n  word-break: break-all;\n}\n\n.message-bubble :deep(td),\n.message-bubble :deep(th) {\n  word-break: break-all;\n  white-space: pre-line;\n  max-width: 200px;\n}\n\n.message-bubble :deep(blockquote) {\n  border-left: 4px solid rgba(0, 0, 0, 0.1);\n  margin: 8px 0;\n  padding: 4px 12px;\n  color: rgba(0, 0, 0, 0.6);\n  background-color: rgba(0, 0, 0, 0.02);\n  border-radius: 0 4px 4px 0;\n}\n\n.message-left .message-bubble {\n  background-color: white;\n  color: #5c6bc0;\n  border: 1px solid #e8eaf6;\n  border-top-left-radius: 4px;\n}\n\n.message-right .message-bubble {\n  background-color: #7986cb;\n  color: white;\n  border-top-right-radius: 4px;\n}\n\n.message-bubble :deep(mark[data-match-idx]) {\n  background: #e8eaf6;\n  color: #5c6bc0;\n  padding: 0 2px;\n  border-radius: 2px;\n  transition: all 0.2s;\n}\n\n.message-bubble :deep(mark[data-match-idx].active-match) {\n  background: #c5cae9;\n  box-shadow: 0 0 0 2px #7986cb;\n}\n\n.search-nav {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  margin-top: 8px;\n  margin-bottom: 0;\n  width: 100%;\n}\n\n.search-nav button {\n  background: #e8eaf6;\n  color: #5c6bc0;\n  border: none;\n  border-radius: 6px;\n  padding: 4px 12px;\n  cursor: pointer;\n  font-size: 0.95em;\n  transition: all 0.2s;\n  min-width: 80px;\n}\n\n.search-nav button:disabled {\n  background: #f5f6fa;\n  color: #b0b0b0;\n  cursor: not-allowed;\n}\n\n.search-nav span {\n  min-width: 60px;\n  text-align: center;\n  color: #5c6bc0;\n}\n\n.token-button {\n  display: inline-flex;\n  align-items: center;\n  gap: 4px;\n  padding: 6px 12px;\n  background-color: #e8eaf6;\n  color: #5c6bc0;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 0.9em;\n  transition: all 0.2s ease;\n}\n\n.token-button:hover:not(:disabled) {\n  background-color: #c5cae9;\n  transform: translateY(-1px);\n}\n\n.token-button:disabled {\n  background-color: #f5f6fa;\n  color: #9fa8da;\n  cursor: not-allowed;\n  transform: none;\n}\n\n.token-value {\n  color: #5c6bc0;\n  font-weight: 500;\n  margin-right: 4px;\n}\n\n.token-label {\n  color: #9fa8da;\n  font-size: 0.9em;\n}\n\n.is-loading {\n  animation: rotating 2s linear infinite;\n}\n\n@keyframes rotating {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n@media screen and (max-width: 768px) {\n  .container {\n    padding: 20px;\n    margin: 15px auto;\n    border-radius: 12px;\n  }\n\n  .modal-content {\n    width: 100%;\n    max-height: 100vh;\n    border-radius: 0;\n  }\n\n  .modal-header {\n    padding: 16px;\n    gap: 8px;\n  }\n\n  .header-top {\n    gap: 8px;\n  }\n\n  .close-button {\n    width: 28px;\n    height: 28px;\n  }\n\n  .statistics {\n    font-size: 0.85em;\n    flex-wrap: wrap;\n    gap: 8px;\n  }\n\n  .statistics > * {\n    flex: 1 1 auto;\n  }\n\n  .token-calc {\n    margin-left: 0;\n    margin-top: 8px;\n    width: 100%;\n    justify-content: flex-start;\n  }\n\n  .file-input-label {\n    padding: 8px 16px;\n    font-size: 0.9em;\n    gap: 6px;\n  }\n\n  .file-input-label + .file-input-label {\n    margin-left: 8px;\n  }\n\n  .statistics-row {\n    gap: 8px;\n  }\n\n  .stat-item {\n    gap: 2px;\n  }\n\n  .message-left {\n    padding-right: 5%;\n  }\n\n  .message-right {\n    padding-left: 5%;\n  }\n\n  .avatar {\n    width: 36px;\n    height: 36px;\n  }\n\n  .message-bubble {\n    font-size: 0.9em;\n    padding: 10px 14px;\n  }\n\n  .header-actions {\n    gap: 4px;\n  }\n\n  .statistics-note {\n    width: 28px;\n    height: 28px;\n  }\n\n  .token-button {\n    padding: 4px 8px;\n    font-size: 0.85em;\n  }\n}\n\n@media screen and (max-width: 480px) {\n  .container {\n    padding: 15px;\n    margin: 10px auto;\n    border-radius: 8px;\n  }\n\n  .modal-header {\n    padding: 12px;\n  }\n\n  .close-button {\n    width: 24px;\n    height: 24px;\n  }\n\n  .statistics {\n    font-size: 0.8em;\n  }\n\n  .file-input-label {\n    padding: 6px 12px;\n    font-size: 0.85em;\n    gap: 4px;\n  }\n\n  .file-input-label + .file-input-label {\n    margin-left: 6px;\n  }\n\n  .statistics-row {\n    gap: 6px;\n  }\n\n  .stat-item {\n    font-size: 0.85em;\n  }\n\n  .token-calc {\n    gap: 4px;\n  }\n\n  .message-left {\n    padding-right: 2%;\n  }\n\n  .message-right {\n    padding-left: 2%;\n  }\n\n  .avatar {\n    width: 32px;\n    height: 32px;\n  }\n\n  .message-bubble {\n    font-size: 0.85em;\n    padding: 8px 12px;\n  }\n\n  .statistics-note {\n    width: 24px;\n    height: 24px;\n  }\n\n  .token-button {\n    padding: 4px 8px;\n    font-size: 0.8em;\n  }\n}\n\n.modal-body::-webkit-scrollbar {\n  width: 6px;\n}\n\n.modal-body::-webkit-scrollbar-track {\n  background: transparent;\n}\n\n.modal-body::-webkit-scrollbar-thumb {\n  background: #c5cae9;\n  border-radius: 3px;\n}\n\n.modal-body::-webkit-scrollbar-thumb:hover {\n  background: #9fa8da;\n}\n\n/* 极端防溢出方案 */\n.message-bubble,\n.message-bubble * {\n  max-width: 100% !important;\n  box-sizing: border-box !important;\n  word-break: break-all !important;\n  overflow-wrap: break-word !important;\n  white-space: pre-line !important;\n}\n\n.message-bubble :deep(pre),\n.message-bubble :deep(code) {\n  white-space: pre-wrap !important;\n  word-break: break-all !important;\n  overflow-x: auto !important;\n}\n\n.message-bubble :deep(table) {\n  display: block !important;\n  width: 100% !important;\n  overflow-x: auto !important;\n}\n\n.message-bubble :deep(td),\n.message-bubble :deep(th) {\n  max-width: 120px !important;\n  word-break: break-all !important;\n  white-space: pre-line !important;\n}\n\n/* 终极li防溢出方案 */\n.message-bubble li,\n.message-bubble :deep(li) {\n  white-space: normal !important;\n  overflow-wrap: anywhere !important;\n  word-break: break-all !important;\n  max-width: 100% !important;\n  box-sizing: border-box !important;\n}\n\n.chat-container,\n.message-wrapper,\n.modal-body {\n  max-width: 100% !important;\n  width: 100% !important;\n  box-sizing: border-box !important;\n  overflow-x: hidden !important;\n}\n\n.message-bubble ol,\n.message-bubble ul,\n.message-bubble li,\n.message-bubble p,\n.message-bubble :deep(ol),\n.message-bubble :deep(ul),\n.message-bubble :deep(li),\n.message-bubble :deep(p) {\n  max-width: 100% !important;\n  width: 100% !important;\n  box-sizing: border-box !important;\n  word-break: break-all !important;\n  overflow-wrap: anywhere !important;\n  white-space: normal !important;\n  display: block !important;\n}\n\n.message-bubble .task-list-item {\n  max-width: 100% !important;\n  width: 100% !important;\n  word-break: break-all !important;\n  overflow-wrap: anywhere !important;\n  white-space: normal !important;\n}\n\n.option-container {\n  margin-top: 12px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: #f5f6fa;\n  padding: 6px 12px;\n  border-radius: 6px;\n  border: 1px solid #e8eaf6;\n}\n\n.option-container :deep(.el-switch) {\n  --el-switch-on-color: #7986cb;\n  --el-switch-off-color: #c5cae9;\n  height: 20px;\n}\n\n.option-container :deep(.el-switch__core) {\n  border-color: #c5cae9;\n  height: 20px;\n  width: 40px !important;\n}\n\n.option-container :deep(.el-switch__action) {\n  width: 16px;\n  height: 16px;\n}\n\n.option-container :deep(.el-switch__label) {\n  color: #7986cb;\n  font-size: 0.85em;\n  font-weight: 500;\n  line-height: 20px;\n}\n\n.option-container :deep(.el-switch__label.is-active) {\n  color: #5c6bc0;\n}\n\n@media screen and (max-width: 768px) {\n  .option-container {\n    margin-top: 8px;\n    padding: 4px 10px;\n  }\n  \n  .option-container :deep(.el-switch__label) {\n    font-size: 0.8em;\n  }\n}\n\n@media screen and (max-width: 480px) {\n  .option-container {\n    margin-top: 6px;\n    padding: 3px 8px;\n  }\n  \n  .option-container :deep(.el-switch__label) {\n    font-size: 0.75em;\n  }\n}\n</style>\n","import { encode } from 'gpt-tokenizer/model/gpt-4o'\r\n\r\nlet encoder = null\r\n\r\n// 预加载编码器\r\nexport async function preloadEncoder() {\r\n  if (!encoder) {\r\n    encoder = encode\r\n  }\r\n  return encoder\r\n}\r\n\r\n// 计算文本的 token 数量\r\nexport async function calculateTokens(text) {\r\n  try {\r\n    if (!encoder) {\r\n      await preloadEncoder()\r\n    }\r\n\r\n    // 按行分割文本\r\n    const lines = text.split('\\n')\r\n    let totalTokens = 0\r\n    let currentContent = ''\r\n    let currentRole = ''\r\n\r\n    for (const line of lines) {\r\n      // 只匹配 user 和 assistant\r\n      if (line.startsWith('【assistant】')) {\r\n        // 如果之前有内容，先计算之前的token\r\n        if (currentContent && currentRole) {\r\n          // 移除时间戳\r\n          const cleanContent = currentContent.replace(/\\[\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}\\]/g, '').trim()\r\n          const tokens = encoder(cleanContent)\r\n          // console.log(`计算 ${currentRole} 的内容：\\n${cleanContent}\\nToken数量：${tokens.length}`)\r\n          totalTokens += tokens.length\r\n        }\r\n        // 开始新的内容\r\n        currentRole = 'assistant'\r\n        currentContent = line.replace(/^【.*?】\\s*/, '').trim()\r\n      } else if (line.startsWith('【user】')) {\r\n        // 如果之前有内容，先计算之前的token\r\n        if (currentContent && currentRole) {\r\n          // 移除时间戳\r\n          const cleanContent = currentContent.replace(/\\[\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}\\]/g, '').trim()\r\n          const tokens = encoder(cleanContent)\r\n          // console.log(`计算 ${currentRole} 的内容：\\n${cleanContent}\\nToken数量：${tokens.length}`)\r\n          totalTokens += tokens.length\r\n        }\r\n        // 开始新的内容\r\n        currentRole = 'user'\r\n        currentContent = line.replace(/^【.*?】\\s*/, '').trim()\r\n      } else if (currentRole) {\r\n        // 如果不是角色标记，且当前有角色，则添加到当前内容\r\n        currentContent += '\\n' + line\r\n      }\r\n    }\r\n    \r\n    // 处理最后一条消息\r\n    if (currentContent && currentRole) {\r\n      // 移除时间戳\r\n      const cleanContent = currentContent.replace(/\\[\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}\\]/g, '').trim()\r\n      const tokens = encoder(cleanContent)\r\n      // console.log(`计算 ${currentRole} 的内容：\\n${cleanContent}\\nToken数量：${tokens.length}`)\r\n      totalTokens += tokens.length\r\n    }\r\n\r\n    console.log(`总计 Token 数量：${totalTokens}`)\r\n    return totalTokens\r\n  } catch (error) {\r\n    console.error('Token calculation failed:', error)\r\n    return null\r\n  }\r\n}\r\n\r\n// 获取编码器实例\r\nexport function getEncoder() {\r\n  return encoder\r\n} ","import { render } from \"./App.vue?vue&type=template&id=62581243\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=62581243&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\nimport ElementPlus from 'element-plus'\nimport 'element-plus/dist/index.css'\n\nconst app = createApp(App)\napp.use(ElementPlus)\napp.mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkchatlog_parser\"] = self[\"webpackChunkchatlog_parser\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(9214); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["class","for","style","_createElementBlock","_hoisted_1","_createElementVNode","_createVNode","_component_el_icon","_component_ChatDotRound","_hoisted_2","_hoisted_3","_component_Upload","type","id","accept","onChange","_cache","args","$setup","handleFileChange","_hoisted_4","multiple","handleTxtFileChange","_hoisted_5","_component_el_switch","convertFullWidth","$event","_hoisted_6","_component_Document","_hoisted_7","_component_el_input","searchQuery","placeholder","_ctx","Search","clearable","onInput","handleSearch","prefix","_withCtx","_component_Search","_hoisted_8","lastOutputs","length","_hoisted_9","_hoisted_10","checked","isAllSelected","toggleSelectAll","_component_Select","_hoisted_12","_Fragment","_renderList","filteredOutputs","output","index","key","_hoisted_13","selectedFiles","updateSelection","onClick","showFileContent","_component_ChatLineRound","_toDisplayString","filename","_hoisted_16","_component_UploadFilled","showModal","_withModifiers","closeModal","_hoisted_17","_hoisted_18","_hoisted_19","currentFile","_hoisted_20","_hoisted_21","_component_el_tooltip","effect","content","placement","_component_InfoFilled","_component_Close","_hoisted_22","_hoisted_23","_hoisted_24","statistics","totalTokens","_hoisted_25","_hoisted_26","assistantCount","_hoisted_27","_hoisted_28","userCount","_hoisted_29","calculateExactTokens","disabled","isCalculating","_createBlock","_component_Loading","exactTokens","_hoisted_31","_hoisted_32","searchKeyword","matchCount","_hoisted_33","gotoPrevMatch","_hoisted_34","currentMatchIndex","gotoNextMatch","_hoisted_35","_hoisted_36","_hoisted_37","chatLines","line","_normalizeClass","getMessageClass","_hoisted_38","isLeftMessage","_component_User","innerHTML","getMessageContent","_hoisted_40","handleDownload","canDownload","_component_Download","status","encoder","async","preloadEncoder","encode","calculateTokens","text","lines","split","currentContent","currentRole","startsWith","cleanContent","replace","trim","tokens","console","log","error","marked","setOptions","breaks","gfm","headerIds","mangle","pedantic","smartLists","smartypants","name","components","ChatDotRound","Upload","Document","Select","ChatLineRound","UploadFilled","Close","Download","User","InfoFilled","Loading","setup","outputContent","ref","computed","value","some","selected","matchRefs","every","event","target","map","sanitizeFilename","extractDialogueFromMapping","mapping","dialogues","randomKey","msg","message","role","author","includes","parts","join","timestamp","create_time","Date","formattedTime","toLocaleString","year","month","day","hour","minute","second","hour12","push","metadata","userData","user_context_message_data","aboutModel","about_model_message","aboutUser","about_user_message","added","repeat","e","processRawJson","data","outputs","Array","isArray","counter","item","undefined","chat_messages","chatMessages","sender","created_at","date","ts","utc8Date","getTime","getFullYear","String","getMonth","padStart","getDate","getHours","getMinutes","getSeconds","base","count","fn","title","Error","txt","file","query","toLowerCase","filter","files","reader","FileReader","onload","JSON","parse","result","ElMessage","err","readAsText","selectedOutputs","_","blob","Blob","url","URL","createObjectURL","a","document","createElement","href","download","click","revokeObjectURL","zip","JSZip","forEach","generateAsync","rolePattern","messages","currentMessage","match","convertToHalfWidth","lineIndex","html","timestampMatch","reg","RegExp","matchIdx","m","refId","countTokens","token","test","Math","ceil","round","newOutputs","hasValidContent","trimmedLine","hasDialogContent","updateMatchRefs","nextTick","from","querySelectorAll","scrollToMatch","idx","scrollIntoView","behavior","block","el","i","classList","toggle","onMounted","setTimeout","watch","__exports__","render","app","createApp","App","use","ElementPlus","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","deferred","O","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","splice","r","n","getter","__esModule","d","definition","o","defineProperty","enumerable","get","g","globalThis","this","Function","window","obj","prop","prototype","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}