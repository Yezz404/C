{"version":3,"file":"js/app.addefd80.js","mappings":"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","sources":["webpack://chatlog_parser/./src/App.vue","webpack://chatlog_parser/./src/utils/tokenizerLoader.js","webpack://chatlog_parser/./src/App.vue?7ccd","webpack://chatlog_parser/./src/main.js","webpack://chatlog_parser/webpack/bootstrap","webpack://chatlog_parser/webpack/runtime/chunk loaded","webpack://chatlog_parser/webpack/runtime/compat get default export","webpack://chatlog_parser/webpack/runtime/define property getters","webpack://chatlog_parser/webpack/runtime/global","webpack://chatlog_parser/webpack/runtime/hasOwnProperty shorthand","webpack://chatlog_parser/webpack/runtime/jsonp chunk loading","webpack://chatlog_parser/webpack/startup"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <h1><el-icon><ChatDotRound /></el-icon> 某种聊天记录</h1>\n    <div class=\"file-input-container\">\n      <label for=\"fileInput\" class=\"file-input-label\">\n        <el-icon><Upload /></el-icon>\n        选择 JSON 文件\n      </label>\n      <input type=\"file\" id=\"fileInput\" accept=\".json\" @change=\"handleFileChange\">\n      <label for=\"txtFileInput\" class=\"file-input-label\" style=\"margin-left: 12px;\">\n        <el-icon><Upload /></el-icon>\n        上传聊天txt\n      </label>\n      <input type=\"file\" id=\"txtFileInput\" accept=\".txt\" multiple @change=\"handleTxtFileChange\">\n    </div>\n    \n    <!-- 文件列表 -->\n    <div class=\"file-list\">\n      <h2><el-icon><Document /></el-icon> 聊天窗口列表</h2>\n      <div class=\"search-container\">\n        <el-input\n          v-model=\"searchQuery\"\n          placeholder=\"搜索聊天记录...\"\n          :prefix-icon=\"Search\"\n          clearable\n          @input=\"handleSearch\"\n        >\n          <template #prefix>\n            <el-icon><Search /></el-icon>\n          </template>\n        </el-input>\n      </div>\n      <div class=\"file-list-content\">\n        <div v-if=\"lastOutputs.length > 0\" class=\"select-all-container\">\n          <label class=\"select-all-label\">\n            <input \n              type=\"checkbox\" \n              :checked=\"isAllSelected\" \n              @change=\"toggleSelectAll\"\n            >\n            <el-icon><Select /></el-icon>\n            选择所有\n          </label>\n        </div>\n        <ul v-if=\"lastOutputs.length > 0\">\n          <li v-for=\"(output, index) in filteredOutputs\" \n              :key=\"index\" \n              class=\"file-item\">\n            <label class=\"file-checkbox\">\n              <input \n                type=\"checkbox\" \n                v-model=\"selectedFiles[index]\"\n                @change=\"updateSelection\"\n              >\n            </label>\n            <span class=\"file-name\" @click=\"showFileContent(output)\">\n              <el-icon><ChatLineRound /></el-icon>\n              {{ output.filename }}\n            </span>\n          </li>\n        </ul>\n        <div v-else class=\"empty-state\">\n          <el-icon><UploadFilled /></el-icon>\n          请上传 conversation.json 文件 以查看聊天记录\n        </div>\n      </div>\n    </div>\n\n    <!-- 弹窗 -->\n    <div class=\"modal\" v-if=\"showModal\" @click.self=\"closeModal\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <div class=\"header-top\">\n            <h3><el-icon><Document /></el-icon> {{ currentFile?.filename }}</h3>\n            <div class=\"header-actions\">\n              <div class=\"statistics-note\">\n                <el-tooltip\n                  effect=\"dark\"\n                  content=\"精确计算采用GPT官方分词器tokenizer-GPT 4o，不适用于Claude。考虑到聊天内容还包含文件、图片等无法被提取的内容，token计算结果仅供参考。\"\n                  placement=\"bottom\"\n                >\n                  <el-icon><InfoFilled /></el-icon>\n                </el-tooltip>\n              </div>\n              <button class=\"close-button\" @click=\"closeModal\">\n                <el-icon><Close /></el-icon>\n              </button>\n            </div>\n          </div>\n          <div class=\"statistics\">\n            <div class=\"stat-item\" style=\"width: 120px\">\n              <span class=\"stat-label\">总字数：</span>\n              <span class=\"stat-value\">{{ statistics.totalTokens }}</span>\n            </div>\n            <div class=\"stat-item\" style=\"width: 120px\">\n              <span class=\"stat-label\">AI回复：</span>\n              <span class=\"stat-value\">{{ statistics.assistantCount }}次</span>\n            </div>\n            <div class=\"stat-item\" style=\"width: 120px\">\n              <span class=\"stat-label\">用户消息：</span>\n              <span class=\"stat-value\">{{ statistics.userCount }}次</span>\n            </div>\n            <div class=\"token-calc\">\n              <button \n                class=\"token-button\" \n                @click=\"calculateExactTokens\"\n                :disabled=\"isCalculating\"\n              >\n                <el-icon v-if=\"!isCalculating\"><InfoFilled /></el-icon>\n                <el-icon v-else class=\"is-loading\"><Loading /></el-icon>\n                {{ isCalculating ? '计算中...' : '计算精确Token' }}\n              </button>\n              <span v-if=\"exactTokens !== null\" class=\"stat-value\">\n                <span class=\"token-value\">{{ exactTokens }}</span>\n                <span class=\"token-label\">tokens</span>\n              </span>\n            </div>\n          </div>\n          <!-- 搜索高亮导航 -->\n          <div v-if=\"searchKeyword && matchCount > 0\" class=\"search-nav\">\n            <button @click=\"gotoPrevMatch\" :disabled=\"matchCount <= 1\">上一个</button>\n            <span>{{ currentMatchIndex + 1 }} / {{ matchCount }}</span>\n            <button @click=\"gotoNextMatch\" :disabled=\"matchCount <= 1\">下一个</button>\n          </div>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"chat-container\">\n            <template v-for=\"(line, index) in chatLines\" :key=\"index\">\n              <div :class=\"['message-wrapper', getMessageClass(line)]\">\n                <div class=\"avatar\">\n                  <el-icon v-if=\"isLeftMessage(line)\" ><ChatDotRound /></el-icon>\n                  <el-icon v-else><User /></el-icon>\n                </div>\n                <div class=\"message-bubble\" v-html=\"getMessageContent(line, index)\" />\n              </div>\n            </template>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"button-container\">\n      <button @click=\"handleDownload\" :disabled=\"!canDownload\">\n        <el-icon><Download /></el-icon>\n        导出选中对话\n      </button>\n    </div>\n    <div class=\"status\" v-text=\"status\"></div>\n  </div>\n</template>\n\n<script>\nimport { ref, computed, onMounted, nextTick, watch } from 'vue'\nimport JSZip from 'jszip'\nimport { marked } from 'marked'\nimport { ElMessage } from 'element-plus'\nimport { \n  ChatDotRound, \n  Upload, \n  Document, \n  Select, \n  ChatLineRound, \n  UploadFilled, \n  Close, \n  Download,\n  User,\n  Search,\n  InfoFilled,\n  Loading\n} from '@element-plus/icons-vue'\nimport { preloadEncoder, calculateTokens } from '@/utils/tokenizerLoader'\n\n// 配置 marked 允许 HTML 标签\nmarked.setOptions({\n  breaks: true,\n  gfm: true,\n  headerIds: false,\n  mangle: false,\n  pedantic: false,\n  smartLists: true,\n  smartypants: false\n});\n\nexport default {\n  name: 'App',\n  components: {\n    ChatDotRound,\n    Upload,\n    Document,\n    Select,\n    ChatLineRound,\n    UploadFilled,\n    Close,\n    Download,\n    User,\n    Search,\n    InfoFilled,\n    Loading\n  },\n  setup() {\n    const outputContent = ref('聊天记录将在这里显示');\n    const status = ref('');\n    const lastOutputs = ref([]);\n    const selectedFiles = ref([]);\n    const searchQuery = ref('');\n    const filteredOutputs = ref([]);\n    const canDownload = computed(() => selectedFiles.value.some(selected => selected));\n    const showModal = ref(false);\n    const currentFile = ref(null);\n    const isCalculating = ref(false)\n    const exactTokens = ref(null)\n    const searchKeyword = ref('')\n    const matchCount = ref(0)\n    const currentMatchIndex = ref(0)\n    const matchRefs = ref([])\n\n    const isAllSelected = computed(() => {\n      return lastOutputs.value.length > 0 && \n             selectedFiles.value.every(selected => selected);\n    });\n\n    function toggleSelectAll(event) {\n      const checked = event.target.checked;\n      selectedFiles.value = lastOutputs.value.map(() => checked);\n    }\n\n    function updateSelection() {\n      selectedFiles.value = [...selectedFiles.value];\n    }\n\n    function sanitizeFilename(filename) {\n      return filename.replace(/[\\\\/*?:\"<>|]/g, \"\");\n    }\n\n    function extractDialogueFromMapping(mapping) {\n      const dialogues = [];\n      for (const randomKey in mapping) {\n        try {\n          const msg = mapping[randomKey].message;\n          const role = msg.author?.role || \"unknown\";\n          if (![\"user\", \"assistant\"].includes(role)) continue;\n          const content = msg.content || {};\n          if (content.parts && content.parts.length) {\n            const text = content.parts.join(\" \").replace(/^\"|\"$/g, \"\").trim();\n            if (text) {\n              dialogues.push(`【${role}】 ${text}`);\n            }\n          } else if (role === \"user\") {\n            const metadata = msg.metadata || {};\n            const userData = metadata.user_context_message_data || {};\n            const aboutModel = (userData.about_model_message || \"\").trim();\n            const aboutUser = (userData.about_user_message || \"\").trim();\n            let added = false;\n            if (aboutModel) {\n              dialogues.push(`【model_message】 ${aboutModel}`);\n              added = true;\n            }\n            if (aboutUser) {\n              dialogues.push(`【user_message】 ${aboutUser}`);\n              added = true;\n            }\n            if (added) {\n              dialogues.push(\"-\".repeat(80));\n            }\n          }\n        } catch (e) {\n          console.log(`处理 mapping 内随机键 ${randomKey} 时出错：${e}`);\n        }\n      }\n      return dialogues;\n    }\n\n    function processRawJson(data) {\n      const outputs = [];\n      \n      if (Array.isArray(data)) {\n        const counter = {};\n        for (const item of data) {\n          if (item.name !== undefined && item.chat_messages !== undefined) {\n            const name = item.name || \"Undefined\";\n            const chatMessages = item.chat_messages || [];\n            \n            if (!chatMessages.length) {\n              continue;\n            }\n            \n            const dialogues = [];\n            for (const msg of chatMessages) {\n              const sender = msg.sender;\n              const text = msg.text;\n              if (sender && text) {\n                const role = sender === \"human\" ? \"user\" : \"assistant\";\n                dialogues.push(`【${role}】 ${text}`);\n              }\n            }\n            \n            if (dialogues.length) {\n              const base = sanitizeFilename(name);\n              const count = (counter[base] || 0) + 1;\n              counter[base] = count;\n              const fn = count > 1 ? `${base}_${count}.txt` : `${base}.txt`;\n              outputs.push({ filename: fn, content: dialogues.join(\"\\n\") });\n            }\n          }\n          else if (item.title !== undefined && item.mapping !== undefined) {\n            const title = item.title || \"unknown\";\n            const mapping = item.mapping;\n            if (!mapping) continue;\n            const dialogues = extractDialogueFromMapping(mapping);\n            if (!dialogues.length) continue;\n            const base = sanitizeFilename(title) || \"unknown\";\n            const count = (counter[base] || 0) + 1;\n            counter[base] = count;\n            const fn = count > 1 ? `${base}_${count}.txt` : `${base}.txt`;\n            outputs.push({ filename: fn, content: dialogues.join(\"\\n\") });\n          }\n        }\n        if (outputs.length === 0) {\n          throw new Error(\"未找到有效的对话内容\");\n        }\n        return outputs;\n      }\n      \n      if (typeof data === \"object\" && !Array.isArray(data)) {\n        for (const title in data) {\n          const content = data[title];\n          const mapping = content.mapping;\n          if (!mapping) continue;\n          const dialogues = extractDialogueFromMapping(mapping);\n          if (dialogues.length) {\n            const fn = sanitizeFilename(title) || \"unknown\";\n            const txt = dialogues.join(\"\\n\");\n            outputs.push({ filename: fn + \".txt\", content: txt });\n          }\n        }\n        if (outputs.length === 0) {\n          throw new Error(\"未找到有效的对话内容\");\n        }\n      } else {\n        throw new Error(\"不支持的 JSON 格式\");\n      }\n      return outputs;\n    }\n\n    function showFileContent(file) {\n      currentFile.value = file;\n      showModal.value = true;\n      exactTokens.value = null\n    }\n\n    function closeModal() {\n      showModal.value = false;\n      currentFile.value = null;\n    }\n\n    function handleSearch() {\n      if (!searchQuery.value.trim()) {\n        filteredOutputs.value = lastOutputs.value;\n        searchKeyword.value = ''\n        return;\n      }\n      const query = searchQuery.value.toLowerCase();\n      filteredOutputs.value = lastOutputs.value.filter(output => {\n        if (output.filename.toLowerCase().includes(query)) return true;\n        if (output.content.toLowerCase().includes(query)) return true;\n        return false;\n      });\n      searchKeyword.value = searchQuery.value.trim();\n    }\n\n    async function handleFileChange(event) {\n      const file = event.target.files[0];\n      if (!file) return;\n      \n      status.value = \"正在解析文件...\";\n      const reader = new FileReader();\n      \n      reader.onload = function (e) {\n        try {\n          const data = JSON.parse(e.target.result);\n          const outputs = processRawJson(data);\n          lastOutputs.value = outputs;\n          filteredOutputs.value = outputs;\n          selectedFiles.value = outputs.map(() => false);\n          \n          if (outputs.length === 0) {\n            ElMessage.error(\"解析完成，但未找到对话内容\");\n            return;\n          }\n          \n          status.value = `解析完成，找到 ${outputs.length} 个会话`;\n        } catch (err) {\n          ElMessage.error(err.message || \"解析失败\");\n          status.value = \"解析失败\";\n        }\n      };\n      \n      reader.readAsText(file, \"utf-8\");\n    }\n\n    async function handleDownload() {\n      if (!selectedFiles.value.some(selected => selected)) return;\n      \n      try {\n        status.value = \"正在准备导出...\";\n        \n        const selectedOutputs = lastOutputs.value.filter((_, index) => selectedFiles.value[index]);\n        \n        if (selectedOutputs.length === 1) {\n          const blob = new Blob([selectedOutputs[0].content], { type: \"text/plain\" });\n          const url = URL.createObjectURL(blob);\n          const a = document.createElement(\"a\");\n          a.href = url;\n          a.download = selectedOutputs[0].filename;\n          a.click();\n          URL.revokeObjectURL(url);\n          status.value = \"导出完成\";\n        } else {\n          status.value = \"正在打包文件，请稍候...\";\n          const zip = new JSZip();\n          \n          selectedOutputs.forEach(output => {\n            zip.file(output.filename, output.content);\n          });\n          \n          const content = await zip.generateAsync({type: \"blob\"});\n          const url = URL.createObjectURL(content);\n          const a = document.createElement(\"a\");\n          a.href = url;\n          a.download = \"chatgpt_dialogues.zip\";\n          a.click();\n          URL.revokeObjectURL(url);\n          \n          status.value = `已导出 ${selectedOutputs.length} 个文件到 chatgpt_dialogues.zip`;\n        }\n      } catch (err) {\n        status.value = \"导出失败\";\n      }\n    }\n\n    const chatLines = computed(() => {\n      if (!currentFile.value?.content) return [];\n      \n      const rolePattern = /【(model_message|user_message|assistant|user)】/;\n      const lines = currentFile.value.content.split('\\n');\n      const messages = [];\n      let currentMessage = '';\n      let currentRole = '';\n\n      for (const line of lines) {\n        const match = line.match(rolePattern);\n        if (match) {\n          if (currentMessage) {\n            messages.push(`【${currentRole}】${currentMessage}`);\n          }\n          currentRole = match[1];\n          currentMessage = line.replace(rolePattern, '').trim();\n        } else if (currentRole) {\n          currentMessage += '\\n' + line;\n        }\n      }\n      \n      if (currentMessage) {\n        messages.push(`【${currentRole}】${currentMessage}`);\n      }\n\n      return messages.filter(msg => {\n        const content = msg.replace(/^【.*?】\\s*/, '').trim();\n        return content.length > 0;\n      });\n    });\n\n    function getMessageClass(line) {\n      if (line.startsWith('【assistant】') || line.startsWith('【model_message】')) {\n        return 'message-left';\n      }\n      return 'message-right';\n    }\n\n    function isLeftMessage(line) {\n      return line.startsWith('【assistant】') || line.startsWith('【model_message】');\n    }\n\n    function getMessageContent(line, lineIndex) {\n      let content = line.replace(/^【.*?】\\s*/, '').trim();\n      const cleanContent = line.startsWith('【user_message】') \n        ? content.replace(/-{20,}/g, '')\n        : content;\n      let html = marked(cleanContent, { breaks: true });\n      if (searchKeyword.value) {\n        const reg = new RegExp(searchKeyword.value.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'), 'gi');\n        let matchIdx = 0;\n        html = html.replace(reg, (m) => {\n          const refId = `search-match-${lineIndex}-${matchIdx}`;\n          matchIdx++;\n          return `<mark data-match-idx=\"${matchIdx-1}\" id=\"${refId}\">${m}</mark>`;\n        });\n      }\n      return html.replace(/\\s+$/, '').replace(/\\n$/, '');\n    }\n\n    const statistics = computed(() => {\n      if (!currentFile.value?.content) {\n        return {\n          totalTokens: 0,\n          assistantCount: 0,\n          userCount: 0\n        };\n      }\n\n      const lines = currentFile.value.content.split('\\n');\n      let totalTokens = 0;\n      let assistantCount = 0;\n      let userCount = 0;\n      let currentContent = '';\n      let currentRole = '';\n\n      const countTokens = (text) => {\n        text = text.replace(/https?:\\/\\/[^\\s]+/g, '');\n        \n        let count = 0;\n        \n        const tokens = text.match(/[a-zA-Z]+|[0-9]+|[\\u4e00-\\u9fa5]|[^\\s]/g) || [];\n        \n        for (const token of tokens) {\n          if (/[a-zA-Z]/.test(token)) {\n            count += Math.ceil(token.length / 4);\n          } else if (/[0-9]/.test(token)) {\n            count += Math.ceil(token.length / 2);\n          } else if (/[\\u4e00-\\u9fa5]/.test(token)) {\n            count += 1;\n          } else if (/[\\s.,!?;:'\"()\\-–—…]/.test(token)) {\n            count += 0.5;\n          } else {\n            count += 0.5;\n          }\n        }\n        \n        return Math.round(count);\n      };\n\n      for (const line of lines) {\n        if (line.startsWith('【assistant】') || line.startsWith('【model_message】')) {\n          if (currentContent && currentRole) {\n            totalTokens += countTokens(currentContent);\n            if (currentRole === 'assistant') assistantCount++;\n            else userCount++;\n          }\n          currentRole = 'assistant';\n          currentContent = line.replace(/^【.*?】\\s*/, '').trim();\n        } else if (line.startsWith('【user】') || line.startsWith('【user_message】')) {\n          if (currentContent && currentRole) {\n            totalTokens += countTokens(currentContent);\n            if (currentRole === 'assistant') assistantCount++;\n            else userCount++;\n          }\n          currentRole = 'user';\n          currentContent = line.replace(/^【.*?】\\s*/, '').trim();\n        } else if (currentRole) {\n          currentContent += '\\n' + line;\n        }\n      }\n      \n      if (currentContent && currentRole) {\n        totalTokens += countTokens(currentContent);\n        if (currentRole === 'assistant') assistantCount++;\n        else userCount++;\n      }\n\n      return {\n        totalTokens,\n        assistantCount,\n        userCount\n      };\n    });\n\n    onMounted(async () => {\n      await nextTick()\n      \n      setTimeout(async () => {\n        try {\n          await preloadEncoder()\n        } catch (error) {\n          console.error('Failed to preload encoder:', error)\n          ElMessage.error('加载失败，请刷新页面重试')\n        }\n      }, 100)\n    })\n\n    async function calculateExactTokens() {\n      if (!currentFile.value?.content) return\n      \n      isCalculating.value = true\n      exactTokens.value = null\n      \n      try {\n        const tokens = await calculateTokens(currentFile.value.content)\n        if (tokens !== null) {\n          exactTokens.value = tokens\n        }\n      } catch (error) {\n        console.error('Token calculation failed:', error)\n        ElMessage.error('计算token失败，请稍后重试')\n      } finally {\n        isCalculating.value = false\n      }\n    }\n\n    async function handleTxtFileChange(event) {\n      const files = event.target.files;\n      if (!files || !files.length) return;\n      let newOutputs = [];\n      for (const file of files) {\n        try {\n          const text = await file.text();\n          if (!text.trim()) {\n            ElMessage.error(`${file.name} 文件内容为空`);\n            continue;\n          }\n          \n          const lines = text.split('\\n');\n          const hasValidContent = lines.some(line => {\n            const trimmedLine = line.trim();\n            return trimmedLine && !trimmedLine.startsWith('-'.repeat(20));\n          });\n          \n          if (!hasValidContent) {\n            ElMessage.error(`${file.name} 未包含有效的对话内容`);\n            continue;\n          }\n\n          const hasDialogContent = lines.some(line => {\n            const trimmedLine = line.trim();\n            return trimmedLine && (\n              trimmedLine.startsWith('【assistant】') ||\n              trimmedLine.startsWith('【user】') ||\n              trimmedLine.startsWith('【model_message】') ||\n              trimmedLine.startsWith('【user_message】')\n            );\n          });\n\n          if (!hasDialogContent) {\n            ElMessage.error(`${file.name} 未包含有效的AI或用户对话内容`);\n            continue;\n          }\n          \n          newOutputs.push({ filename: file.name, content: text });\n        } catch (e) {\n          ElMessage.error(`读取${file.name}失败`);\n        }\n      }\n      if (newOutputs.length) {\n        lastOutputs.value = [...lastOutputs.value, ...newOutputs];\n        filteredOutputs.value = lastOutputs.value;\n        selectedFiles.value = lastOutputs.value.map(() => false);\n        status.value = `已导入 ${newOutputs.length} 个txt文件`;\n      }\n      event.target.value = '';\n    }\n\n    function updateMatchRefs() {\n      nextTick(() => {\n        matchRefs.value = Array.from(document.querySelectorAll('.modal-body mark[data-match-idx]'));\n        matchCount.value = matchRefs.value.length;\n        if (matchCount.value > 0) {\n          scrollToMatch(currentMatchIndex.value);\n        }\n      });\n    }\n\n    function scrollToMatch(idx) {\n      if (matchRefs.value[idx]) {\n        matchRefs.value[idx].scrollIntoView({ behavior: 'smooth', block: 'center' });\n        matchRefs.value.forEach((el, i) => {\n          el.classList.toggle('active-match', i === idx);\n        });\n      }\n    }\n\n    function gotoPrevMatch() {\n      if (matchCount.value <= 1) return;\n      currentMatchIndex.value = (currentMatchIndex.value - 1 + matchCount.value) % matchCount.value;\n      scrollToMatch(currentMatchIndex.value);\n    }\n\n    function gotoNextMatch() {\n      if (matchCount.value <= 1) return;\n      currentMatchIndex.value = (currentMatchIndex.value + 1) % matchCount.value;\n      scrollToMatch(currentMatchIndex.value);\n    }\n\n    watch([showModal, searchKeyword, currentFile], () => {\n      if (showModal.value) {\n        currentMatchIndex.value = 0;\n        updateMatchRefs();\n      }\n    });\n\n    return {\n      outputContent,\n      status,\n      canDownload,\n      lastOutputs,\n      selectedFiles,\n      isAllSelected,\n      showModal,\n      currentFile,\n      searchQuery,\n      filteredOutputs,\n      statistics,\n      handleFileChange,\n      handleDownload,\n      showFileContent,\n      closeModal,\n      toggleSelectAll,\n      updateSelection,\n      chatLines,\n      getMessageClass,\n      isLeftMessage,\n      getMessageContent,\n      handleSearch,\n      isCalculating,\n      exactTokens,\n      calculateExactTokens,\n      handleTxtFileChange,\n      searchKeyword,\n      matchCount,\n      currentMatchIndex,\n      gotoPrevMatch,\n      gotoNextMatch\n    };\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: \"PingFang SC\", \"Microsoft YaHei\", sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n  margin: 0;\n  padding: 0;\n  min-height: 100vh;\n  background-color: #f5f6fa;\n}\n\n* {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n\n.container {\n  font-family: \"PingFang SC\", \"Microsoft YaHei\", sans-serif;\n  line-height: 1.6;\n  padding: 30px;\n  max-width: 800px;\n  margin: 20px auto;\n  background-color: #fff;\n  border-radius: 16px;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);\n}\n\nh1 {\n  color: #8e9aaf;\n  margin-bottom: 30px;\n  text-align: center;\n  font-size: 1.8em;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 10px;\n}\n\nh2 {\n  font-size: 1.3em;\n  margin-bottom: 15px;\n  color: #8e9aaf;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.file-input-container {\n  margin: 20px 0;\n  text-align: center;\n}\n\n.file-input-label {\n  display: inline-flex;\n  align-items: center;\n  gap: 8px;\n  padding: 12px 24px;\n  background-color: #e8eaf6;\n  color: #7986cb;\n  border-radius: 12px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  font-weight: 500;\n}\n\n.file-input-label:hover {\n  background-color: #c5cae9;\n  transform: translateY(-2px);\n}\n\ninput[type=\"file\"] {\n  display: none;\n}\n\n.file-list {\n  margin: 20px 0;\n  background: #f8f9fa;\n  padding: 20px;\n  border-radius: 12px;\n  border: 1px solid #e8eaf6;\n  height: 50vh;\n  display: flex;\n  flex-direction: column;\n}\n\n.search-container {\n  margin-bottom: 15px;\n}\n\n.search-container :deep(.el-input__wrapper) {\n  background-color: white;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n  border-radius: 8px;\n}\n\n.search-container :deep(.el-input__inner) {\n  height: 40px;\n}\n\n.search-container :deep(.el-input__prefix) {\n  color: #9fa8da;\n}\n\n.file-list-content {\n  flex-grow: 1;\n  overflow-y: auto;\n  border: 1px solid #e8eaf6;\n  border-radius: 8px;\n  background: white;\n}\n\n.select-all-container {\n  padding: 12px;\n  border-bottom: 1px solid #e8eaf6;\n  background-color: #f5f6fa;\n}\n\n.select-all-label {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  cursor: pointer;\n  user-select: none;\n  color: #7986cb;\n  font-weight: 500;\n}\n\n.file-item {\n  display: flex;\n  align-items: flex-start;\n  gap: 12px;\n  padding: 12px;\n  border-bottom: 1px solid #e8eaf6;\n  transition: all 0.2s ease;\n}\n\n.file-checkbox {\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  flex-shrink: 0;\n}\n\n.file-name {\n  flex-grow: 1;\n  cursor: pointer;\n  display: flex;\n  align-items: flex-start;\n  gap: 8px;\n  color: #5c6bc0;\n  word-break: break-word;\n  text-align: left;\n  min-width: 0;\n}\n\n.file-name .el-icon {\n  flex-shrink: 0;\n  margin-top: 2px;\n}\n\n.file-name:hover {\n  color: #7986cb;\n}\n\n.file-item:hover {\n  background-color: #f5f6fa;\n}\n\n.empty-state {\n  padding: 40px 20px;\n  text-align: center;\n  color: #9fa8da;\n  font-style: italic;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 12px;\n}\n\n.empty-state .el-icon {\n  font-size: 24px;\n}\n\n.button-container {\n  text-align: center;\n  margin-top: 20px;\n}\n\nbutton {\n  display: inline-flex;\n  align-items: center;\n  gap: 8px;\n  padding: 12px 24px;\n  background-color: #7986cb;\n  color: white;\n  border: none;\n  border-radius: 12px;\n  cursor: pointer;\n  font-size: 16px;\n  font-weight: 500;\n  transition: all 0.3s ease;\n}\n\nbutton:hover {\n  background-color: #5c6bc0;\n  transform: translateY(-2px);\n}\n\nbutton:disabled {\n  background-color: #c5cae9;\n  cursor: not-allowed;\n  transform: none;\n}\n\n.status {\n  margin-top: 15px;\n  text-align: center;\n  color: #9fa8da;\n  font-size: 0.9em;\n}\n\n.modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.2);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n  backdrop-filter: blur(4px);\n}\n\n.modal-content {\n  background-color: white;\n  border-radius: 16px;\n  width: 95%;\n  max-width: 800px;\n  max-height: 90vh;\n  display: flex;\n  flex-direction: column;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n}\n\n.modal-header {\n  padding: 20px;\n  border-bottom: 1px solid #e8eaf6;\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.header-top {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  gap: 12px;\n}\n\n.modal-header h3 {\n  margin: 0;\n  color: #5c6bc0;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  word-break: break-all;\n  font-size: 1.1em;\n  flex: 1;\n  min-width: 0;\n}\n\n.header-actions {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  flex-shrink: 0;\n}\n\n.statistics-note {\n  display: flex;\n  align-items: center;\n  color: #9fa8da;\n  cursor: help;\n  width: 32px;\n  height: 32px;\n  justify-content: center;\n  border-radius: 4px;\n  transition: all 0.2s ease;\n}\n\n.statistics-note:hover {\n  color: #5c6bc0;\n  background-color: #f5f6fa;\n}\n\n.statistics-note .el-icon {\n  font-size: 16px;\n}\n\n.close-button {\n  background: none;\n  border: none;\n  cursor: pointer;\n  color: #9fa8da;\n  padding: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: color 0.2s ease;\n  flex-shrink: 0;\n  width: 32px;\n  height: 32px;\n  border-radius: 4px;\n}\n\n.close-button:hover {\n  color: #5c6bc0;\n  background-color: #f5f6fa;\n}\n\n.statistics {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  font-size: 0.9em;\n  color: #666;\n  flex-wrap: nowrap;\n}\n\n.stat-item {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  white-space: nowrap;\n  flex-shrink: 0;\n}\n\n.stat-label {\n  color: #9fa8da;\n}\n\n.stat-value {\n  color: #5c6bc0;\n  font-weight: 500;\n}\n\n.token-calc {\n  margin-left: auto;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  flex-shrink: 0;\n}\n\n.modal-body {\n  padding: 20px;\n  overflow-y: auto;\n  flex-grow: 1;\n  background-color: #f5f6fa;\n}\n\n.chat-container {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  width: 100%;\n  padding: 0 12px;\n}\n\n.message-wrapper {\n  display: flex;\n  gap: 12px;\n  width: 100%;\n  max-width: 100%;\n}\n\n.message-left {\n  align-self: flex-start;\n  padding-right: 20%;\n}\n\n.message-right {\n  align-self: flex-end;\n  flex-direction: row-reverse;\n  padding-left: 20%;\n}\n\n.avatar {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  background-color: #e8eaf6;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n}\n\n.message-bubble {\n  padding: 12px 16px;\n  border-radius: 16px;\n  font-size: 0.95em;\n  line-height: 1.5;\n  word-break: break-word;\n  white-space: pre-wrap;\n  text-align: left;\n  min-width: 60px;\n  max-width: 100%;\n  display: inline-block;\n}\n\n.message-bubble :deep(p) {\n  margin: 0;\n  padding: 0;\n}\n\n.message-bubble :deep(p:last-child) {\n  margin-bottom: 0;\n}\n\n.message-bubble :deep(p + p) {\n  margin-top: 1em;\n}\n\n.message-bubble :deep(em) {\n  font-style: italic;\n}\n\n.message-bubble :deep(strong) {\n  font-weight: bold;\n}\n\n.message-bubble :deep(code) {\n  background-color: rgba(0, 0, 0, 0.05);\n  padding: 2px 4px;\n  border-radius: 4px;\n  font-family: monospace;\n}\n\n.message-bubble :deep(pre) {\n  background-color: rgba(0, 0, 0, 0.05);\n  padding: 8px;\n  border-radius: 4px;\n  overflow-x: auto;\n  margin: 8px 0;\n}\n\n.message-bubble :deep(pre code) {\n  background-color: transparent;\n  padding: 0;\n}\n\n.message-bubble :deep(ul), .message-bubble :deep(ol) {\n  margin: 8px 0;\n  padding-left: 20px;\n}\n\n.message-bubble :deep(blockquote) {\n  border-left: 4px solid rgba(0, 0, 0, 0.1);\n  margin: 8px 0;\n  padding-left: 12px;\n  color: rgba(0, 0, 0, 0.6);\n}\n\n.message-left .message-bubble {\n  background-color: white;\n  color: #5c6bc0;\n  border: 1px solid #e8eaf6;\n  border-top-left-radius: 4px;\n}\n\n.message-right .message-bubble {\n  background-color: #7986cb;\n  color: white;\n  border-top-right-radius: 4px;\n}\n\n.message-bubble :deep(mark[data-match-idx]) {\n  background: #e8eaf6;\n  color: #5c6bc0;\n  padding: 0 2px;\n  border-radius: 2px;\n  transition: all 0.2s;\n}\n\n.message-bubble :deep(mark[data-match-idx].active-match) {\n  background: #c5cae9;\n  box-shadow: 0 0 0 2px #7986cb;\n}\n\n.search-nav {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  margin-top: 8px;\n  margin-bottom: 0;\n  width: 100%;\n}\n\n.search-nav button {\n  background: #e8eaf6;\n  color: #5c6bc0;\n  border: none;\n  border-radius: 6px;\n  padding: 4px 12px;\n  cursor: pointer;\n  font-size: 0.95em;\n  transition: all 0.2s;\n  min-width: 80px;\n}\n\n.search-nav button:disabled {\n  background: #f5f6fa;\n  color: #b0b0b0;\n  cursor: not-allowed;\n}\n\n.search-nav span {\n  min-width: 60px;\n  text-align: center;\n  color: #5c6bc0;\n}\n\n.token-button {\n  display: inline-flex;\n  align-items: center;\n  gap: 4px;\n  padding: 6px 12px;\n  background-color: #e8eaf6;\n  color: #5c6bc0;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 0.9em;\n  transition: all 0.2s ease;\n}\n\n.token-button:hover:not(:disabled) {\n  background-color: #c5cae9;\n  transform: translateY(-1px);\n}\n\n.token-button:disabled {\n  background-color: #f5f6fa;\n  color: #9fa8da;\n  cursor: not-allowed;\n  transform: none;\n}\n\n.token-value {\n  color: #5c6bc0;\n  font-weight: 500;\n  margin-right: 4px;\n}\n\n.token-label {\n  color: #9fa8da;\n  font-size: 0.9em;\n}\n\n.is-loading {\n  animation: rotating 2s linear infinite;\n}\n\n@keyframes rotating {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n@media screen and (max-width: 768px) {\n  .container {\n    padding: 20px;\n    margin: 15px auto;\n    border-radius: 12px;\n  }\n\n  .modal-content {\n    width: 100%;\n    max-height: 100vh;\n    border-radius: 0;\n  }\n\n  .modal-header {\n    padding: 16px;\n    gap: 8px;\n  }\n\n  .header-top {\n    gap: 8px;\n  }\n\n  .close-button {\n    width: 28px;\n    height: 28px;\n  }\n\n  .statistics {\n    font-size: 0.85em;\n    flex-wrap: wrap;\n    gap: 8px;\n  }\n\n  .statistics > * {\n    flex: 1 1 auto;\n  }\n\n  .token-calc {\n    margin-left: 0;\n    margin-top: 8px;\n    width: 100%;\n    justify-content: flex-start;\n  }\n\n  .file-input-label {\n    padding: 8px 16px;\n    font-size: 0.9em;\n    gap: 6px;\n  }\n\n  .file-input-label + .file-input-label {\n    margin-left: 8px;\n  }\n\n  .statistics-row {\n    gap: 8px;\n  }\n\n  .stat-item {\n    gap: 2px;\n  }\n\n  .message-left {\n    padding-right: 5%;\n  }\n\n  .message-right {\n    padding-left: 5%;\n  }\n\n  .avatar {\n    width: 36px;\n    height: 36px;\n  }\n\n  .message-bubble {\n    font-size: 0.9em;\n    padding: 10px 14px;\n  }\n\n  .header-actions {\n    gap: 4px;\n  }\n\n  .statistics-note {\n    width: 28px;\n    height: 28px;\n  }\n\n  .token-button {\n    padding: 4px 8px;\n    font-size: 0.85em;\n  }\n}\n\n@media screen and (max-width: 480px) {\n  .container {\n    padding: 15px;\n    margin: 10px auto;\n    border-radius: 8px;\n  }\n\n  .modal-header {\n    padding: 12px;\n  }\n\n  .close-button {\n    width: 24px;\n    height: 24px;\n  }\n\n  .statistics {\n    font-size: 0.8em;\n  }\n\n  .file-input-label {\n    padding: 6px 12px;\n    font-size: 0.85em;\n    gap: 4px;\n  }\n\n  .file-input-label + .file-input-label {\n    margin-left: 6px;\n  }\n\n  .statistics-row {\n    gap: 6px;\n  }\n\n  .stat-item {\n    font-size: 0.85em;\n  }\n\n  .token-calc {\n    gap: 4px;\n  }\n\n  .message-left {\n    padding-right: 2%;\n  }\n\n  .message-right {\n    padding-left: 2%;\n  }\n\n  .avatar {\n    width: 32px;\n    height: 32px;\n  }\n\n  .message-bubble {\n    font-size: 0.85em;\n    padding: 8px 12px;\n  }\n\n  .statistics-note {\n    width: 24px;\n    height: 24px;\n  }\n\n  .token-button {\n    padding: 4px 8px;\n    font-size: 0.8em;\n  }\n}\n\n.modal-body::-webkit-scrollbar {\n  width: 6px;\n}\n\n.modal-body::-webkit-scrollbar-track {\n  background: transparent;\n}\n\n.modal-body::-webkit-scrollbar-thumb {\n  background: #c5cae9;\n  border-radius: 3px;\n}\n\n.modal-body::-webkit-scrollbar-thumb:hover {\n  background: #9fa8da;\n}\n</style>\n","import { encode } from 'gpt-tokenizer'\r\n\r\nlet encoder = null\r\n\r\nexport async function preloadEncoder() {\r\n  if (!encoder) {\r\n    encoder = encode\r\n  }\r\n  return encoder\r\n}\r\n\r\nexport async function calculateTokens(text) {\r\n  try {\r\n    if (!encoder) {\r\n      await preloadEncoder()\r\n    }\r\n    return encoder(text).length\r\n  } catch (error) {\r\n    console.error('Token calculation error:', error)\r\n    return null\r\n  }\r\n} ","import { render } from \"./App.vue?vue&type=template&id=1967932c\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=1967932c&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\nimport ElementPlus from 'element-plus'\nimport 'element-plus/dist/index.css'\n\nconst app = createApp(App)\napp.use(ElementPlus)\napp.mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkchatlog_parser\"] = self[\"webpackChunkchatlog_parser\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(1310); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["class","for","style","_createElementBlock","_hoisted_1","_createElementVNode","_createVNode","_component_el_icon","_component_ChatDotRound","_hoisted_2","_hoisted_3","_component_Upload","type","id","accept","onChange","_cache","args","$setup","handleFileChange","_hoisted_4","multiple","handleTxtFileChange","_hoisted_5","_component_Document","_hoisted_6","_component_el_input","searchQuery","$event","placeholder","_ctx","Search","clearable","onInput","handleSearch","prefix","_withCtx","_component_Search","_hoisted_7","lastOutputs","length","_hoisted_8","_hoisted_9","checked","isAllSelected","toggleSelectAll","_component_Select","_hoisted_11","_Fragment","_renderList","filteredOutputs","output","index","key","_hoisted_12","selectedFiles","updateSelection","onClick","showFileContent","_component_ChatLineRound","_toDisplayString","filename","_hoisted_15","_component_UploadFilled","showModal","_withModifiers","closeModal","_hoisted_16","_hoisted_17","_hoisted_18","currentFile","_hoisted_19","_hoisted_20","_component_el_tooltip","effect","content","placement","_component_InfoFilled","_component_Close","_hoisted_21","_hoisted_22","_hoisted_23","statistics","totalTokens","_hoisted_24","_hoisted_25","assistantCount","_hoisted_26","_hoisted_27","userCount","_hoisted_28","calculateExactTokens","disabled","isCalculating","_createBlock","_component_Loading","exactTokens","_hoisted_30","_hoisted_31","searchKeyword","matchCount","_hoisted_32","gotoPrevMatch","_hoisted_33","currentMatchIndex","gotoNextMatch","_hoisted_34","_hoisted_35","_hoisted_36","chatLines","line","_normalizeClass","getMessageClass","_hoisted_37","isLeftMessage","_component_User","innerHTML","getMessageContent","_hoisted_39","handleDownload","canDownload","_component_Download","status","encoder","async","preloadEncoder","encode","calculateTokens","text","error","console","marked","setOptions","breaks","gfm","headerIds","mangle","pedantic","smartLists","smartypants","name","components","ChatDotRound","Upload","Document","Select","ChatLineRound","UploadFilled","Close","Download","User","InfoFilled","Loading","setup","outputContent","ref","computed","value","some","selected","matchRefs","every","event","target","map","sanitizeFilename","replace","extractDialogueFromMapping","mapping","dialogues","randomKey","msg","message","role","author","includes","parts","join","trim","push","metadata","userData","user_context_message_data","aboutModel","about_model_message","aboutUser","about_user_message","added","repeat","e","log","processRawJson","data","outputs","Array","isArray","counter","item","undefined","chat_messages","chatMessages","sender","base","count","fn","title","Error","txt","file","query","toLowerCase","filter","files","reader","FileReader","onload","JSON","parse","result","ElMessage","err","readAsText","selectedOutputs","_","blob","Blob","url","URL","createObjectURL","a","document","createElement","href","download","click","revokeObjectURL","zip","JSZip","forEach","generateAsync","rolePattern","lines","split","messages","currentMessage","currentRole","match","startsWith","lineIndex","cleanContent","html","reg","RegExp","matchIdx","m","refId","currentContent","countTokens","tokens","token","test","Math","ceil","round","newOutputs","hasValidContent","trimmedLine","hasDialogContent","updateMatchRefs","nextTick","from","querySelectorAll","scrollToMatch","idx","scrollIntoView","behavior","block","el","i","classList","toggle","onMounted","setTimeout","watch","__exports__","render","app","createApp","App","use","ElementPlus","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","deferred","O","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","splice","r","n","getter","__esModule","d","definition","o","defineProperty","enumerable","get","g","globalThis","this","Function","window","obj","prop","prototype","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}